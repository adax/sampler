<p>Подсистема отображения диаграмм платформы CUBA поддерживает большое количество типов диаграмм: круговые, линейные,
    пузырьковые, лепестковые, диаграммы с накоплением и прочие. Имеется возможность экспорта диаграмм. Для большинства
    типов диаграмм поддерживается прокрутка и зуммирование. На момент написания настоящего руководства подсистема
    отображения диаграмм работает только в блоке <strong>Web Client</strong> для <strong>Vaadin7</strong>.</p>
<p>Библиотека <strong>AmCharts</strong>, на которой основана реализация подсистемы отображения диаграмм,
    распространяется по лицензии, позволяющей использовать ее бесплатно при сохранении ссылки на сайт библиотеки. Для
    своего проекта Вы можете <a href="http://www.amcharts.com/online-store/" target="_blank">купить</a> лицензию на
    <strong>AmCharts </strong>и убрать ссылку.</p>
<h3>Конфигурация диаграмм</h3>
<p>Для отображения диаграмм используется компонент <code>Chart</code>, являющийся универсальным холстом. Вид диаграммы
    задается его свойством <code>configuration</code> типа <code>AbstractChart</code>.</p>
<p>Соответствие элементов XML видам диаграмм:</p>
<ul>
    <li>
        <p><code>chart:xyChart</code> - XYChart</p>
    </li>
    <li>
        <p><code>chart:serialChart</code> - SerialChart</p>
    </li>
    <li>
        <p><code>chart:pieChart</code> - PieChart</p>
    </li>
    <li>
        <p><code>chart:funnelChart</code> - FunnelChart</p>
    </li>
    <li>
        <p><code>chart:gaugeChart</code> - AngularGaugeChart</p>
    </li>
    <li>
        <p><code>chart:radarChart</code> - RadarChart</p>
    </li>
</ul>
<p>Каждый вид диаграммы имеет свой набор атрибутов и методов, которые повторяют функционал соответствующих диаграмм
    библиотеки AmCharts. Документация по свойствам и методам диаграмм находится по адресу&nbsp;<a
            href="http://docs.amcharts.com/3/javascriptcharts" target="_blank">docs.amcharts.com/3/javascriptcharts</a>.
</p>
<p>Все атрибуты конфигурации могут иметь значение <code>null</code>, вместо таких значений будут использоваться значения
    по умолчанию (кроме случаев, указанных в документации <strong>AmCharts</strong>).</p>
<h3>Связь с данными</h3>
<p>Реализовано два варианта передачи данных в диаграмму: через интерфейс <code>DataProvider</code>, или через механизм
    источников данных.</p>
<ul>
    <li>
        <p>Интерфейс <code>DataProvider</code> имеет стандартную реализацию: класс <code>ListDataProvider</code>. Он
            содержит список экземпляров <code>DataItem</code>, каждый из которых содержит набор пар ключ-значение.
            Экземпляр <code>DataProvider</code>передается методу <code>setDataProvider()</code> конфигурации диаграммы.
            Данный способ предоставления данных для диаграммы наиболее универсален, однако требует создания экземпляров
            <code>DataProvider</code> и <code>DataItem</code> в коде контроллера экрана.</p>
    </li>
    <li>
        <p>Источник данных типа <code>CollectionDatasource</code> устанавливается для компонента <code>Chart</code>
            вызовом метода <code>setDatasource()</code>. Данный вариант требует наличия сущности, представляющей данные
            диаграммы. Он удобен, когда такая сущность уже есть в модели данных приложения, а также когда данные
            диаграммы нужно отобразить и в виде таблицы.</p>
    </li>
</ul>
<p>Используемые для отображения свойства сущности или значения, содержащиеся в экземпляре <code>DataProvider</code>,
    задаются в атрибутах диаграммы, причем атрибуты различаются для разных типов диаграмм. Например для компонента
    <code>chart:pieChart</code> необходимо задать атрибуты <code>valueField</code> и <code>titleField</code>. В качестве
    значений могут выступать типы <code>Integer</code>, <code>Long</code>, <code>Double</code>, <code>String</code>,
    <code>Boolean</code>, <code>Date</code>.</p>
<p>Динамическое добавление данных в существующий график не поддерживается, возможно только полностью перерисовать график
    с новыми данными. Для этого необходимо воспользоваться методом <code>repaint()</code>.</p>
<h3>События</h3>
<p>Имеется возможность настроить реакцию на различные типы событий. Доступны следующие типы слушателей событий:</p>
<ul>
    <li>
        <p><code>AxisZoomListener</code> - масштабирование оси графика.</p>
    </li>
    <li>
        <p><code>ChartClickListener</code> - щелчок по холсту.</p>
    </li>
    <li>
        <p><code>RightClickListener</code> - щелчок по холсту правой клавишей мыши.</p>
    </li>
    <li>
        <p><code>CursorPeriodSelectListener</code> - выбор периода отображения курсором.</p>
    </li>
    <li>
        <p><code>CursorZoomListener</code> - масштабирование области графика курсором.</p>
    </li>
    <li>
        <p><code>GraphClickListener</code> - щелчок по графику.</p>
    </li>
    <li>
        <p><code>GraphItemClickListener</code> - щелчок по элементу графика.</p>
    </li>
    <li>
        <p><code>LegendItemHideListener</code> - скрытие элемента легенды.</p>
    </li>
    <li>
        <p><code>LegendItemShowListener</code> - показ элемента легенды.</p>
    </li>
    <li>
        <p><code>LegendItemClickListener</code> - щелчок по элементу легенды.</p>
    </li>
    <li>
        <p><code>SliceClickListener</code> - щелчок по элементу круговой диаграммы.</p>
    </li>
    <li>
        <p><code>SliceRightClickListener</code> - щелчок по элементу круговой диаграммы правой клавишей мыши.</p>
    </li>
    <li>
        <p><code>SlicePullInListener</code> - элемент круговой диаграммы соединён с диаграммой.</p>
    </li>
    <li>
        <p><code>SlicePullOutListener</code> - элемент круговой диаграммы отсоединён от диаграммы.</p>
    </li>
    <li>
        <p><code>ZoomListener</code> - масштабирование холста.</p>
    </li>
</ul>